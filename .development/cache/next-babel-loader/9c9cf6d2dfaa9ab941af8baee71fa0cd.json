{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _app = _interopRequireDefault(require(\"next/app\"));\n\nvar _api = _interopRequireDefault(require(\"../src/api\"));\n\nvar _Context = _interopRequireWildcard(require(\"../src/Context\"));\n\nvar _Library = require(\"../src/Library\");\n\nvar _head = _interopRequireDefault(require(\"next/head\"));\n\nvar _jsxFileName = \"/Users/stanislavohstany/WebApps/DEV/coronamap/pages/_app.js\";\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __jsx = _react.default.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nif (false) {\n  const ua = window.navigator.userAgent;\n\n  if (ua.indexOf(\"MSIE\") > 0 || ua.indexOf(\"Edge\") > 0 || ua.indexOf(\"Trident\") > 0) {\n    require(\"promise-polyfill/src/polyfill\");\n\n    require(\"abortcontroller-polyfill/dist/polyfill-patch-fetch\");\n  }\n} else {\n  require(\"promise-polyfill\");\n\n  require(\"abortcontroller-polyfill\");\n}\n\nconst siteMeta = {\n  title: \"Коронавирус в Украине\",\n  description: \"\",\n  icon: \"coronavirus2.png\",\n  url: false && window.location.href || \"https://cov19.online/\"\n};\n\nclass MyApp extends _app.default {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"AddToHead\", (0, _Library.memoize)(() => {\n      return __jsx(_head.default, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, __jsx(\"link\", {\n        rel: \"shortcut icon\",\n        href: siteMeta.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), __jsx(\"meta\", {\n        name: \"msapplication-TileColor\",\n        content: \"#ffffff\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), __jsx(\"meta\", {\n        name: \"msapplication-config\",\n        content: \"/static/favicon/browserconfig.xml\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), __jsx(\"meta\", {\n        name: \"theme-color\",\n        content: \"#ffffff\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), __jsx(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, siteMeta.title));\n    }));\n  }\n\n  static async getInitialProps({\n    Component,\n    ctx\n  }) {\n    let pageProps = {};\n    let presets = {};\n    const isProduction = false;\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps(ctx);\n    }\n\n    if (ctx.req && ctx.req.url) {\n      presets = await (0, _api.default)({\n        action: \"front\",\n        method: \"GET\",\n        params: \"source=settings\"\n      });\n    }\n\n    return {\n      loaded: true,\n      mode: ctx.req && !ctx.req.url.includes(\"/admin\") ? \"front\" : \"admin\",\n      isProduction,\n      headers: ctx.req ? ctx.req.headers : {},\n      pageProps,\n      presets\n    };\n  }\n\n  render() {\n    const {\n      Component,\n      pageProps,\n      router,\n      headers,\n      presets\n    } = this.props;\n    return __jsx(_Context.RootProvider, _extends({}, presets, {\n      headers: headers,\n      siteMeta: siteMeta,\n      router: router,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), __jsx(_Context.default.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, context => __jsx(_react.default.Fragment, null, __jsx(this.AddToHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), __jsx(Component, _extends({}, pageProps, {\n      context: context,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexports.default = MyApp;","map":{"version":3,"sources":["/Users/stanislavohstany/WebApps/DEV/coronamap/pages/_app.js"],"names":["ua","window","navigator","userAgent","indexOf","require","siteMeta","title","description","icon","url","location","href","MyApp","App","getInitialProps","Component","ctx","pageProps","presets","isProduction","req","action","method","params","loaded","mode","includes","headers","render","router","props","context"],"mappings":"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","sourcesContent":["import \"core-js\";\n\nif (typeof window !== \"undefined\") {\n\tconst ua = window.navigator.userAgent;\n\tif (\n\t\tua.indexOf(\"MSIE\") > 0 ||\n\t\tua.indexOf(\"Edge\") > 0 ||\n\t\tua.indexOf(\"Trident\") > 0\n\t) {\n\t\trequire(\"promise-polyfill/src/polyfill\");\n\t\trequire(\"abortcontroller-polyfill/dist/polyfill-patch-fetch\");\n\t}\n} else {\n\trequire(\"promise-polyfill\");\n\trequire(\"abortcontroller-polyfill\");\n}\n\nimport React from \"react\";\nimport App from \"next/app\";\nimport api from \"api\";\nimport RootContext, { RootProvider } from \"Context\";\nimport { memoize } from \"Library\";\nimport Head from \"next/head\";\n\nconst siteMeta = {\n\ttitle: \"Коронавирус в Украине\",\n\tdescription: \"\",\n\ticon: \"coronavirus2.png\",\n\turl:\n\t\t(typeof window !== \"undefined\" && window.location.href) ||\n\t\t\"https://cov19.online/\"\n};\n\nexport default class MyApp extends App {\n\tstatic async getInitialProps({ Component, ctx }) {\n\t\tlet pageProps = {};\n\t\tlet presets = {};\n\n\t\tconst isProduction = process.env.NODE_ENV === \"production\";\n\n\t\tif (Component.getInitialProps) {\n\t\t\tpageProps = await Component.getInitialProps(ctx);\n\t\t}\n\n\t\tif (ctx.req && ctx.req.url) {\n\t\t\tpresets = await api({\n\t\t\t\taction: \"front\",\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tparams: \"source=settings\"\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\tloaded: true,\n\t\t\tmode:\n\t\t\t\tctx.req && !ctx.req.url.includes(\"/admin\") ? \"front\" : \"admin\",\n\t\t\tisProduction,\n\t\t\theaders: ctx.req ? ctx.req.headers : {},\n\t\t\tpageProps,\n\t\t\tpresets\n\t\t};\n\t}\n\n\tAddToHead = memoize(() => {\n\t\treturn (\n\t\t\t<Head>\n\t\t\t\t<link rel=\"shortcut icon\" href={siteMeta.icon} />\n\n\t\t\t\t<meta name=\"msapplication-TileColor\" content=\"#ffffff\" />\n\n\t\t\t\t<meta\n\t\t\t\t\tname=\"msapplication-config\"\n\t\t\t\t\tcontent=\"/static/favicon/browserconfig.xml\"\n\t\t\t\t/>\n\n\t\t\t\t<meta name=\"theme-color\" content=\"#ffffff\" />\n\n\t\t\t\t<title>{siteMeta.title}</title>\n\t\t\t</Head>\n\t\t);\n\t});\n\n\trender() {\n\t\tconst { Component, pageProps, router, headers, presets } = this.props;\n\n\t\treturn (\n\t\t\t<RootProvider\n\t\t\t\t{...presets}\n\t\t\t\theaders={headers}\n\t\t\t\tsiteMeta={siteMeta}\n\t\t\t\trouter={router}>\n\t\t\t\t<RootContext.Consumer>\n\t\t\t\t\t{context => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<this.AddToHead />\n\t\t\t\t\t\t\t<Component {...pageProps} context={context} />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</RootContext.Consumer>\n\t\t\t</RootProvider>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}