{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty2 = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty2(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.reducer = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/define-property\"));\n\nvar _defineProperties = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/define-properties\"));\n\nvar _getOwnPropertyDescriptors = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\"));\n\nvar _getOwnPropertyDescriptor = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\"));\n\nvar _getOwnPropertySymbols = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/json/stringify\"));\n\nvar _defineProperty3 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _head = _interopRequireDefault(require(\"next/head\"));\n\nvar _GoogleMaps = _interopRequireDefault(require(\"../src/Templates/GoogleMaps\"));\n\nvar _Subscribe = _interopRequireDefault(require(\"../src/Templates/Subscribe\"));\n\nvar _MakeMark = _interopRequireDefault(require(\"../src/Templates/MakeMark\"));\n\nvar _ActivityArea = _interopRequireDefault(require(\"../src/Templates/ActivityArea\"));\n\nvar _Socials = _interopRequireDefault(require(\"../src/Templates/Socials\"));\n\nrequire(\"../src/global.scss\");\n\nvar _jsxFileName = \"/Users/stanislavohstany/WebApps/DEV/coronamap/pages/index.js\";\nvar __jsx = _react.default.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = (0, _keys.default)(object); if (_getOwnPropertySymbols.default) { var symbols = (0, _getOwnPropertySymbols.default)(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return (0, _getOwnPropertyDescriptor.default)(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty3.default)(target, key, source[key]); }); } else if (_getOwnPropertyDescriptors.default) { (0, _defineProperties.default)(target, (0, _getOwnPropertyDescriptors.default)(source)); } else { ownKeys(Object(source)).forEach(function (key) { (0, _defineProperty2.default)(target, key, (0, _getOwnPropertyDescriptor.default)(source, key)); }); } } return target; }\n\nvar reducer = function reducer(state, a) {\n  // auto state update via KEYS\n  a && (0, _keys.default)(a).map(function (k) {\n    state[k] = a[k];\n    return false;\n  });\n  return _objectSpread({}, state);\n};\n\nexports.reducer = reducer;\nvar siteMeta = {\n  title: \"Коронавирус в Украине\",\n  description: \"\",\n  icon: \"coronavirus2.png\",\n  url: true && window.location.href || \"https://cov19.online/\"\n};\n\nvar Home = function Home(_ref) {\n  var context = _ref.context;\n  console.log(\"props\", context);\n\n  var _useState = (0, _react.useState)(false),\n      setLocation = _useState[0],\n      _setLocation = _useState[1];\n\n  var getLocationViaLat = function getLocationViaLat() {\n    var _ref2 = localStorage.getItem(\"position\") && JSON.parse(localStorage.getItem(\"position\")),\n        lat = _ref2.lat,\n        lng = _ref2.lng;\n\n    var lReq = \"https://maps.googleapis.com/maps/api/geocode/json?latlng=\".concat(lat, \",\").concat(lng, \"&key=AIzaSyA4zKpi3hRchkPewoFrU0h_V4a2ykGrohk\");\n\n    if (lat && lng) {\n      fetch(lReq).then(function (blob) {\n        return blob.json();\n      }).then(function (res) {\n        if (res && res.results && res.results[0]) {\n          localStorage.setItem(\"positionDatail\", (0, _stringify.default)(res.results[0]));\n        }\n\n        console.log(\"rrrr\", res, res.results[0]);\n      });\n    } else {\n      console.log(\"not set\");\n    }\n  };\n\n  (0, _react.useEffect)(function () {\n    if (navigator.geolocation) {\n      var pos = localStorage.getItem(\"position\") && JSON.parse(localStorage.getItem(\"position\"));\n\n      if (pos.lng >= 0) {\n        _setLocation(true); // getLocationViaLat();\n\n      } else {\n        navigator.geolocation.getCurrentPosition(function (position) {\n          localStorage.setItem(\"position\", (0, _stringify.default)({\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          }));\n\n          if (position.coords.latitudeg >= 0) {\n            _setLocation(true);\n          }\n        });\n      }\n    }\n  }, []);\n  return __jsx(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(\"section\", {\n    className: \"mapArea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(_GoogleMaps.default, (0, _extends2.default)({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }))), __jsx(\"section\", {\n    className: \"mainBlock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, __jsx(_Socials.default, (0, _extends2.default)({}, props, siteMeta, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  })), __jsx(_MakeMark.default, (0, _extends2.default)({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), __jsx(_ActivityArea.default, (0, _extends2.default)({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })), __jsx(_Subscribe.default, (0, _extends2.default)({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }))));\n};\n\nvar _default = Home;\nexports.default = _default;","map":{"version":3,"sources":["/Users/stanislavohstany/WebApps/DEV/coronamap/pages/index.js"],"names":["reducer","state","a","map","k","siteMeta","title","description","icon","url","window","location","href","Home","context","console","log","setLocation","_setLocation","getLocationViaLat","localStorage","getItem","JSON","parse","lat","lng","lReq","fetch","then","blob","json","res","results","setItem","navigator","geolocation","pos","getCurrentPosition","position","coords","latitude","longitude","latitudeg","props"],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;AAEO,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,CAAR,EAAc;AACpC;AACAA,EAAAA,CAAC,IACA,mBAAYA,CAAZ,EAAeC,GAAf,CAAmB,UAAAC,CAAC,EAAI;AACvBH,IAAAA,KAAK,CAACG,CAAD,CAAL,GAAWF,CAAC,CAACE,CAAD,CAAZ;AACA,WAAO,KAAP;AACA,GAHD,CADD;AAKA,2BAAYH,KAAZ;AACA,CARM;;;AAUP,IAAMI,QAAQ,GAAG;AAChBC,EAAAA,KAAK,EAAE,uBADS;AAEhBC,EAAAA,WAAW,EAAE,EAFG;AAGhBC,EAAAA,IAAI,EAAE,kBAHU;AAIhBC,EAAAA,GAAG,EACD,QAAiCC,MAAM,CAACC,QAAP,CAAgBC,IAAlD,IACA;AANe,CAAjB;;AASA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAiB;AAAA,MAAdC,OAAc,QAAdA,OAAc;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,OAArB;;AAD6B,kBAGO,qBAAS,KAAT,CAHP;AAAA,MAGtBG,WAHsB;AAAA,MAGTC,YAHS;;AAK7B,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAAA,gBAE9BC,YAAY,CAACC,OAAb,CAAqB,UAArB,KACAC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAH8B;AAAA,QACvBG,GADuB,SACvBA,GADuB;AAAA,QAClBC,GADkB,SAClBA,GADkB;;AAK/B,QAAMC,IAAI,sEAA+DF,GAA/D,cAAsEC,GAAtE,iDAAV;;AACA,QAAID,GAAG,IAAIC,GAAX,EAAgB;AACfE,MAAAA,KAAK,CAACD,IAAD,CAAL,CACEE,IADF,CACO,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,OADX,EAEEF,IAFF,CAEO,UAAAG,GAAG,EAAI;AACZ,YAAIA,GAAG,IAAIA,GAAG,CAACC,OAAX,IAAsBD,GAAG,CAACC,OAAJ,CAAY,CAAZ,CAA1B,EAA0C;AACzCZ,UAAAA,YAAY,CAACa,OAAb,CACC,gBADD,EAEC,wBAAeF,GAAG,CAACC,OAAJ,CAAY,CAAZ,CAAf,CAFD;AAIA;;AAEDjB,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBe,GAApB,EAAyBA,GAAG,CAACC,OAAJ,CAAY,CAAZ,CAAzB;AACA,OAXF;AAYA,KAbD,MAaO;AACNjB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA;AACD,GAtBD;;AAwBA,wBAAU,YAAM;AACf,QAAIkB,SAAS,CAACC,WAAd,EAA2B;AAC1B,UAAMC,GAAG,GACRhB,YAAY,CAACC,OAAb,CAAqB,UAArB,KACAC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAFD;;AAIA,UAAIe,GAAG,CAACX,GAAJ,IAAW,CAAf,EAAkB;AACjBP,QAAAA,YAAY,CAAC,IAAD,CAAZ,CADiB,CAEjB;;AACA,OAHD,MAGO;AACNgB,QAAAA,SAAS,CAACC,WAAV,CAAsBE,kBAAtB,CAAyC,UAAAC,QAAQ,EAAI;AACpDlB,UAAAA,YAAY,CAACa,OAAb,CACC,UADD,EAEC,wBAAe;AACdT,YAAAA,GAAG,EAAEc,QAAQ,CAACC,MAAT,CAAgBC,QADP;AAEdf,YAAAA,GAAG,EAAEa,QAAQ,CAACC,MAAT,CAAgBE;AAFP,WAAf,CAFD;;AAQA,cAAIH,QAAQ,CAACC,MAAT,CAAgBG,SAAhB,IAA6B,CAAjC,EAAoC;AACnCxB,YAAAA,YAAY,CAAC,IAAD,CAAZ;AACA;AACD,SAZD;AAaA;AACD;AACD,GAzBD,EAyBG,EAzBH;AA2BA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAS,IAAA,SAAS,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,mBAAD,6BAAgByB,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADD,CADD,EAKC;AAAS,IAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,gBAAD,6BAAaA,KAAb,EAAwBtC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADD,EAGC,MAAC,iBAAD,6BAAcsC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAHD,EAKC,MAAC,qBAAD,6BAAkBA,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALD,EAOC,MAAC,kBAAD,6BAAeA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAPD,CALD,CADD;AAiBA,CAzED;;eA2Ee9B,I","sourcesContent":["import { useReducer, useEffect, useState } from \"react\";\nimport Head from \"next/head\";\nimport GoogleMaps from \"Templates/GoogleMaps\";\nimport Subscribe from \"Templates/Subscribe\";\nimport MakeMark from \"Templates/MakeMark\";\nimport ActivityArea from \"Templates/ActivityArea\";\nimport Socials from \"Templates/Socials\";\nimport \"global.scss\";\n\nexport const reducer = (state, a) => {\n\t// auto state update via KEYS\n\ta &&\n\t\tObject.keys(a).map(k => {\n\t\t\tstate[k] = a[k];\n\t\t\treturn false;\n\t\t});\n\treturn { ...state };\n};\n\nconst siteMeta = {\n\ttitle: \"Коронавирус в Украине\",\n\tdescription: \"\",\n\ticon: \"coronavirus2.png\",\n\turl:\n\t\t(typeof window !== \"undefined\" && window.location.href) ||\n\t\t\"https://cov19.online/\"\n};\n\nconst Home = ({ context }) => {\n\tconsole.log(\"props\", context);\n\n\tconst [setLocation, _setLocation] = useState(false);\n\n\tconst getLocationViaLat = () => {\n\t\tconst { lat, lng } =\n\t\t\tlocalStorage.getItem(\"position\") &&\n\t\t\tJSON.parse(localStorage.getItem(\"position\"));\n\n\t\tconst lReq = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=AIzaSyA4zKpi3hRchkPewoFrU0h_V4a2ykGrohk`;\n\t\tif (lat && lng) {\n\t\t\tfetch(lReq)\n\t\t\t\t.then(blob => blob.json())\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.results && res.results[0]) {\n\t\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\t\"positionDatail\",\n\t\t\t\t\t\t\tJSON.stringify(res.results[0])\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.log(\"rrrr\", res, res.results[0]);\n\t\t\t\t});\n\t\t} else {\n\t\t\tconsole.log(\"not set\");\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (navigator.geolocation) {\n\t\t\tconst pos =\n\t\t\t\tlocalStorage.getItem(\"position\") &&\n\t\t\t\tJSON.parse(localStorage.getItem(\"position\"));\n\n\t\t\tif (pos.lng >= 0) {\n\t\t\t\t_setLocation(true);\n\t\t\t\t// getLocationViaLat();\n\t\t\t} else {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(position => {\n\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\"position\",\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\tlat: position.coords.latitude,\n\t\t\t\t\t\t\tlng: position.coords.longitude\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tif (position.coords.latitudeg >= 0) {\n\t\t\t\t\t\t_setLocation(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<main>\n\t\t\t<section className=\"mapArea\">\n\t\t\t\t<GoogleMaps {...props} />\n\t\t\t</section>\n\n\t\t\t<section className=\"mainBlock\">\n\t\t\t\t<Socials {...props} {...siteMeta} />\n\n\t\t\t\t<MakeMark {...props} />\n\n\t\t\t\t<ActivityArea {...props} />\n\n\t\t\t\t<Subscribe {...props} />\n\t\t\t</section>\n\t\t</main>\n\t);\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"script"}