{"version":3,"file":"static/webpack/static/development/pages/index.js.4eae6ed1a2302ea88a16.hot-update.js","sources":["webpack:///./src/Templates/GoogleMaps/index.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport { Map, GoogleApiWrapper, Marker } from \"google-maps-react\";\nimport markerImg from \"./m.png\";\nimport styles from \"./mapStyling.json\";\nimport countries from \"Library/countries.json\";\n\nconst defsize = 25;\n\nconst MapContainer = ({ context, google }) => {\n\tconst {\n\t\tstore: { geo = false, markers = [], index },\n\t\tsetStore\n\t} = context || {};\n\n\tconst [cpos, _cpos] = useState(false);\n\n\tconst [state, _state] = useState({\n\t\tactiveMarker: null\n\t});\n\n\tconsole.log(\"GEO\", geo, countries, cpos);\n\n\tuseEffect(() => {\n\t\tif (geo && geo.countryCode) {\n\t\t\tconst cpos = countries.filter(\n\t\t\t\tc => c.country_code === geo.countryCode\n\t\t\t);\n\t\t\tif (cpos.length) _cpos(cpos[0]);\n\t\t}\n\t}, [geo]);\n\n\tconst markerSets = {\n\t\ticon: {\n\t\t\turl: markerImg,\n\t\t\tscaledSize: new google.maps.Size(defsize, defsize)\n\t\t}\n\t};\n\n\tconst onMarkerClick = (pp, activeMarker, index) => {\n\t\tsetStore({ index: index });\n\n\t\t// activeMarker.animation = pp.google.maps.Animation.BOUNCE;\n\t\t// activeMarker.animating = true;\n\t\t// console.log(\"pp, activeMarker,\", pp, activeMarker);\n\n\t\t_state({\n\t\t\tactiveMarker\n\t\t});\n\t};\n\n\tconst onMapClicked = props => {\n\t\t_state(e => ({\n\t\t\tactiveMarker: null\n\t\t}));\n\t};\n\n\tconst displayMarkers = useCallback(() => {\n\t\treturn markers.map((m, mx) => (\n\t\t\t<Marker\n\t\t\t\tlabelClass=\"labelc\"\n\t\t\t\tonClick={(pp, mr) => onMarkerClick(pp, mr, mx)}\n\t\t\t\tkey={mx}\n\t\t\t\tanimation={google.maps.Animation.DROP}\n\t\t\t\t{...markerSets}\n\t\t\t\t{...m}\n\t\t\t/>\n\t\t));\n\t}, [markers.length >= 0]);\n\n\treturn (\n\t\t<Map\n\t\t\t{...styles}\n\t\t\tgoogle={google}\n\t\t\tzoom={cpos.latlng ? 7 : 9}\n\t\t\tinitialCenter={{ lat: 49.037868, lng: 31.904297 }}\n\t\t\tonClick={onMapClicked}>\n\t\t\t{markers.length && displayMarkers()}\n\t\t</Map>\n\t);\n};\n\nexport default GoogleApiWrapper({\n\tapiKey: \"AIzaSyA4zKpi3hRchkPewoFrU0h_V4a2ykGrohk\"\n})(MapContainer);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AASA;AADA;AARA;AAAA;AACA;AAWA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AADA;AACA;AAMA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAUA;AAEA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AADA;AACA;;;;;A","sourceRoot":""}