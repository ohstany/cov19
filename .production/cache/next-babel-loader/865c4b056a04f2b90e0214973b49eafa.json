{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs2/regenerator\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nrequire(\"core-js\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _app = _interopRequireDefault(require(\"next/app\"));\n\nvar _api = _interopRequireDefault(require(\"../src/api\"));\n\nvar _Context = _interopRequireWildcard(require(\"../src/Context\"));\n\nvar _Library = require(\"../src/Library\");\n\nvar _head = _interopRequireDefault(require(\"next/head\"));\n\nvar __jsx = _react.default.createElement;\n\nif (true) {\n  var ua = window.navigator.userAgent;\n\n  if (ua.indexOf(\"MSIE\") > 0 || ua.indexOf(\"Edge\") > 0 || ua.indexOf(\"Trident\") > 0) {\n    require(\"promise-polyfill/src/polyfill\");\n\n    require(\"abortcontroller-polyfill/dist/polyfill-patch-fetch\");\n  }\n} else {\n  require(\"promise-polyfill\");\n\n  require(\"abortcontroller-polyfill\");\n}\n\nvar siteMeta = {\n  title: \"Коронавирус в Украине\",\n  description: \"\",\n  icon: \"coronavirus2.png\",\n  url: true && window.location.href || \"https://cov19.online/\"\n};\n\nvar MyApp = /*#__PURE__*/function (_App) {\n  (0, _inherits2.default)(MyApp, _App);\n\n  function MyApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MyApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(MyApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"AddToHead\", (0, _Library.memoize)(function () {\n      return __jsx(_head.default, null, __jsx(\"link\", {\n        rel: \"shortcut icon\",\n        href: siteMeta.icon\n      }), __jsx(\"meta\", {\n        name: \"msapplication-TileColor\",\n        content: \"#ffffff\"\n      }), __jsx(\"meta\", {\n        name: \"msapplication-config\",\n        content: \"/static/favicon/browserconfig.xml\"\n      }), __jsx(\"meta\", {\n        name: \"theme-color\",\n        content: \"#ffffff\"\n      }), __jsx(\"title\", null, siteMeta.title));\n    }));\n    return _this;\n  }\n\n  (0, _createClass2.default)(MyApp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          Component = _this$props.Component,\n          pageProps = _this$props.pageProps,\n          router = _this$props.router,\n          headers = _this$props.headers,\n          presets = _this$props.presets;\n      return __jsx(_Context.RootProvider, (0, _extends2.default)({}, presets, {\n        headers: headers,\n        siteMeta: siteMeta,\n        router: router\n      }), __jsx(_Context.default.Consumer, null, function (context) {\n        return __jsx(_react.default.Fragment, null, __jsx(_this2.AddToHead, null), __jsx(Component, (0, _extends2.default)({}, pageProps, {\n          context: context\n        })));\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var Component, ctx, pageProps, presets, isProduction;\n      return _regenerator.default.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Component = _ref.Component, ctx = _ref.ctx;\n              pageProps = {};\n              presets = {};\n              isProduction = true;\n\n              if (!Component.getInitialProps) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 7;\n              return _regenerator.default.awrap(Component.getInitialProps(ctx));\n\n            case 7:\n              pageProps = _context.sent;\n\n            case 8:\n              if (!(ctx.req && ctx.req.url)) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.next = 11;\n              return _regenerator.default.awrap((0, _api.default)({\n                action: \"front\",\n                method: \"GET\",\n                params: \"source=settings\"\n              }));\n\n            case 11:\n              presets = _context.sent;\n\n            case 12:\n              return _context.abrupt(\"return\", {\n                loaded: true,\n                mode: ctx.req && !ctx.req.url.includes(\"/admin\") ? \"front\" : \"admin\",\n                isProduction: isProduction,\n                headers: ctx.req ? ctx.req.headers : {},\n                pageProps: pageProps,\n                presets: presets\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n  }]);\n  return MyApp;\n}(_app.default);\n\nexports.default = MyApp;","map":null,"metadata":{},"sourceType":"script"}